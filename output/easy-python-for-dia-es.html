<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>La manera más fácil de escribir complementos para Dia en Python.</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="A Pelican Blog Atom Feed" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">A Pelican Blog </a></h1>
                <nav><ul>
                    <li><a href="/pages/about.html">About</a></li>
                    <li><a href="/category/open-source.html">Open Source</a></li>
                    <li class="active"><a href="/category/python.html">Python</a></li>
                    <li><a href="/category/vala.html">Vala</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/easy-python-for-dia-es.html" rel="bookmark"
           title="Permalink to La manera más fácil de escribir complementos para Dia en Python.">La manera más fácil de escribir complementos para Dia en Python.</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-01-07T10:00:00+00:00">
                Published: Thu 07 January 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/chris-daley.html">Chris Daley</a>
        </address>
<p>In <a href="/category/python.html">Python</a>.</p>
<p>tags: <a href="/tag/dia.html">Dia</a> <a href="/tag/python.html">Python</a> <a href="/tag/open-source.html">Open Source</a> <a href="/tag/programming.html">Programming</a> <a href="/tag/tdd.html">TDD</a> <a href="/tag/bdd.html">BDD</a> <a href="/tag/software-libre.html">Software Libre</a> </p>Translations:
        <a href="/easy-python-for-dia.html">en</a>

</footer><!-- /.post-info -->      <p><a href="https://wiki.gnome.org/action/show/Apps/Dia">Dia</a> es software libre para la creación de diagramas libre y es multiplataforma. Ya está un poquito viejo, pero siga siendo una gran herramienta. Es muy fácil agregarle funciones nuevas con complementos (plugins) desarrollados en Python pero el proceso mismo de escribir esos complementos es un poco más complicado.</p>
<p>En primero, la interfaz de programación de aplicaciones (API) de Dia para Python es difícil de encontrar en  <a href="https://projects-old.gnome.org/dia/pydia.html">línea</a>. Siempre puedes generar un diagrama de la API desde adentro de Dia mismo pero ese no te daría mucha información y el formato es un poco inconveniente. La API puede ser un poquito difícil de navegar y voy a compartir algunos trucos sobre ese tema en un post más adelante pero el problema más grande se yace en probando los complementos que escribes. Dia carga todos los complementos al inicio y no se pueden modificar durante la ejecución del programa, así que el proceso de probar y depurar resulta laborioso. Es posible escribir y probar las piezas de tu complemento que no dependen en Dia aparte pero una vez que comiences la interacción con la interfaz, se atasca de nuevo.</p>
<p><img alt="Vaya API grande!" src="/images/dia-python-api.png" /></p>
<p>Frustrado por eso y deseando desarrollar un complemento siguiendo las técnicas de desarrollo guiado por pruebas (TDD), escribí un pequeño modulo de Python que simular la API de Dia. Así que puedes escribir y probar la gran mayoría de tu complemento sin tener que ejecutar Dia en absoluto! Hay limitaciones - por ejemplo cualquiera interacción con la interfaz tiene que ser hecho dentro de Dia, o a mano o con un automation framework y no se puede generar diagramas útiles. Sin embargo, debería reducir la cantidad de tiempo y bugs que cueste poner en marcha tu complemento. No olvides de darle una licencia de software libre y compartirlo con el mundo! </p>
<p>Si eso es algo que te serviría, puedes darle un vistazo <a href="https://github.com/chebizarro/dia-test">ahi</a>. Originalmente, lo desarrolle para satisfacer las necesidades de un proyecto determinado en lo que estaba trabajando asi que hay unas partes que no están completas pero estoy dispuesto de tomar avisos de bugs y pull requests. </p>
<p>Es fácil instalar:</p>
<div class="highlight"><pre><span class="nv">$ </span>python setup.py install
</pre></div>


<p>No hay ninguna diferencia en la manera de escribir tu código y cualquier complemento existente puede usar el modulo sin ser modificado. Cuando el complemento se ejecuta fuera de Dia, se carga el modulo de simulación, cuando se ejecuta dentro de Dia, se carga lo verdadero.</p>
<p>Ya estas listo para empezar de escribir complementos para Dia en la manera mas fácil!</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>