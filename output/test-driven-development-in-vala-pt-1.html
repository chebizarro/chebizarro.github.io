<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Towards a Test Driven Development Framework in Vala Part 1.</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="A Pelican Blog Atom Feed" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">A Pelican Blog </a></h1>
                <nav><ul>
                    <li><a href="/pages/about.html">About</a></li>
                    <li><a href="/category/open-source.html">Open Source</a></li>
                    <li><a href="/category/python.html">Python</a></li>
                    <li class="active"><a href="/category/vala.html">Vala</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/test-driven-development-in-vala-pt-1.html" rel="bookmark"
           title="Permalink to Towards a Test Driven Development Framework in Vala Part 1.">Towards a Test Driven Development Framework in Vala Part 1.</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-01-08T10:50:00+00:00">
                Published: Fri 08 January 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/chris-daley.html">Chris Daley</a>
        </address>
<p>In <a href="/category/vala.html">Vala</a>.</p>
<p>tags: <a href="/tag/vala.html">Vala</a> <a href="/tag/open-source.html">Open Source</a> <a href="/tag/programming.html">Programming</a> <a href="/tag/tdd.html">TDD</a> <a href="/tag/bdd.html">BDD</a> </p>Translations:
        <a href="/test-driven-development-in-vala-pt-1-es.html">es</a>

</footer><!-- /.post-info -->      <p>I first came across <a href="https://wiki.gnome.org/Projects/Vala">Vala</a> when scoping out the possibility of updating a venerable old Open Source program from GTK+2 to GTK+3. I wasn't quite sure what to make of Vala at first - it was an Object Oriented Programming language based on the GObject type system that used C as an intermediary language for the gcc compiler. I looked through a bunch of the samples, and was struck by the elegance and parsimony of the syntax and how instantly understandable it was from my familiarity with Java and C#. I played with a few example apps and I was surprised at how much fun it was to use as well. It was GObject without the endless reams of boilerplate code. Properties actually made sense now and using signals is a snap. IDE support was about as good as any other language, especially in Geany, my tool of choice. I was hooked.</p>
<p>There was only one problem. I'm a big fan of <a href="https://en.wikipedia.org/wiki/Test-driven_development">TDD</a> and <a href="https://en.wikipedia.org/wiki/Behavior-driven_development">BDD</a> and after many hours of intense Google-Fu, I was able to find precious little on the topic in regards to Vala. What <a href="https://esite.ch/2012/06/writing-tests-for-vala/">there was</a> boiled down to using the GLib Test library and a nice little adapter class to group individual test cases into a test suite. The end result was run through <code>gtester</code> on the command line, usually as part of a toolchain like Autotools. This was straightforward enough for simple applications with limited user interactions, but it doesn't really scale for BDD. Some work had been done on a framework called <a href="https://github.com/yorba/valadate">Valadate</a> but it was abandoned by its maintainers a few years ago. This was a real blocker for me going forward. My philosophy is that you can occasionally write great software in moments of furious creativity but it takes boring old testing to consistently produce good software. </p>
<p><img alt="Feel the hate flow throw you" src="/images/unit-tests-dv.jpg" /></p>
<p>The thing with Free and Open Source Software is that it's only free at the cashier. Once you get it home you have to pay an ongoing maintenance cost in time if you want to keep using it. That time could be spent making minor contributions like filing bug reports through to helping new users in forums or translating apps all the way to implementing features yourself. I see real potential in Vala but I feel that it's usability is being hampered by this missing feature. The developers of the language have given the world a great gift and their time is better spent maintaining it. The current solution is <em>mostly</em> good enough, but generates a lot of extra code to be maintained and has no support for BDD. "Somebody should do something about it" is a phrase that makes me groan whenever I hear it, because I usually think that that someone should be the person saying it. Well, someone should do something about it.</p>
<p>So this blog post is an effort to get the ball rolling on that something. Although I have some free time now, it's not an endless wellspring. I also don't want to start a vaporware or abandonedware project that gets added to the list of good ideas people had at one point in time. I would like to build something that is sustainable, that evolves with its users and that could be easily passed on to other maintainers should I no longer have enough time to devote to it. I imagine this has been the manifesto of a thousand failed Open Source projects, but it's better than nothing, so here goes...</p>
<h3>Getting the ball rolling</h3>
<p>Since this a project to bring TDD and BDD to Vala, I would like to use Agile techniques to plan and develop it. The first steps in this case are setting up a Product Vision and Requirements Gathering. I'll take a stab at the first one (quoted because VISION STATEMENT).</p>
<blockquote>
<p>For Vala developers who need to test their code, &lt; insert cool tool name &gt; is a powerful testing framework that provides behavioral, functional and unit testing features to help them write great Open Source software. Unlike other testing frameworks, &lt; insert cool tool name &gt; is designed especially for Vala while integrating seamlessly into existing toolchains.</p>
</blockquote>
<p>I guess that makes me the Product Owner as well. I don't really care what it's called, Valadate is as good as any but I'm open to suggestions. If there are enough ideas we might have a poll.</p>
<p>The next step will be the Requirements Gathering, one I have a number of ideas about already but I would really like to hear from the potential end users. I've started a Trello Board to that effect and if you would like to suggest a feature or comment on one that's already there, <a href="http://bit.ly/1ZSrRA6">head on over</a> and make yourself heard. If that's not your medium, you can ping me on <a href="http://twitter.com/chebizarro">Twitter</a> or hit me up on the Vala IRC channel (irc.gimp.org #vala), as <code>bizarro</code>. A tool like this will live or die on its fitness for purpose, so please don't hold back.</p>
<p>That's all for now, in the next post I'll summarize the requirements that have been gathered so far and lay out the options for the system architecture as well as a provisional schedule for the first release. Thanks for tuning in and don't forget to join the conversation if you have something to add.</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>